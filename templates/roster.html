<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Roster Results</title>
    <script src="https://cdn.tailwindcss.com"></script>
</head>

<body class="bg-gray-900 min-h-screen p-6">

<div class="max-w-3xl mx-auto bg-gray-800 shadow-xl p-6 rounded-xl border border-gray-700">

    {% if error %}
        <p class="text-red-400 text-xl font-semibold mb-4">{{ error }}</p>
        <a href="/" class="text-indigo-400 hover:underline mt-4 block">← Back to Home</a>
    {% else %}
    
        <!-- HEADER -->
        <h1 class="text-3xl font-bold text-indigo-400 mb-4">
            Roster for {{ data.username }} — Season {{ data.season }}
        </h1>

        <p class="text-lg font-semibold text-gray-200 mb-2">{{ data.league.name }}</p>
        <p class="text-gray-400 mb-4">League ID: {{ data.league.league_id }}</p>

        <!-- POSITION GROUPS -->
        {% for pos, players in data.positions.items() %}
            {% if players %}

                <h2 class="text-2xl font-bold mt-8 mb-3 text-indigo-300 border-b border-gray-700 pb-1">
                    {{ pos }}
                </h2>

                <div class="space-y-3">

                    {% for p in players %}
                        <div class="flex items-center gap-4 bg-gray-700 p-3 rounded-lg border border-gray-600">

                            <!-- Player Headshot -->
                            <img src="{{ p.headshot }}" 
                                 class="w-12 h-12 rounded-full object-cover border border-gray-500">

                            <div class="flex-1">
                                <p class="text-gray-200 font-semibold">{{ p.name }}</p>
                                <p class="text-gray-400 text-sm">{{ p.position }} — {{ p.team }}</p>
                            </div>

                            <!-- Team Logo -->
                            {% if p.team_logo %}
                                <img src="{{ p.team_logo }}" 
                                     class="w-10 h-10 object-contain">
                            {% endif %}
                        </div>
                    {% endfor %}

                </div>

            {% endif %}
        {% endfor %}

        <a href="/" class="text-indigo-400 hover:underline block mt-10">← Back to Home</a>

    {% endif %}

</div>

</body>
</html>
